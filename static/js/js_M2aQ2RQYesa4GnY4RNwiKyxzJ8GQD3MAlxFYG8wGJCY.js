(function($){
  $(document).ready(function(){

    //Homepage Points of Pride
    $('.photo-gallery__gallery').slick({
      infinite: true,
      speed: 500,
      slidesToShow: 1,
      centerMode: true,
      variableWidth: true,
      appendArrows: $(".section--homepage-gallery__arrows-container"),
    });

    //Timeline Content Type Detail Slider
    const slides = $('.timeline-primary > .timeline--item').length;
    const start = Math.round(slides/2)-1;
    $('.timeline-primary').slick({
      infinite: false,
      speed: 500,
      slidesToShow: 1,
      initialSlide: start,
      centerMode: true,
      variableWidth: true,
    });

    $('[data-slick-index=' + start + ']').addClass('active');

    //Timeline Content type Year "Slider"
    $('.timeline-nav__year').on('click', function() {
      let index = $(this).attr('data-slick-index');
      $('.timeline-primary').slick('slickGoTo', index);
      $('[data-slick-index]').removeClass('active');
      $('[data-slick-index=' + index + ']').addClass('active');
    });

    $('.timeline-primary').on('afterChange', function(event, slick, currentSlide) {
      if (currentSlide == 0) {
        $('.slick-prev').addClass('disabled');
      } else {
        $('.slick-prev').removeClass('disabled');
      }
      if (currentSlide == slides-1) {
        $('.slick-next').addClass('disabled');
      } else {
        $('.slick-next').removeClass('disabled');
      }
      $('[data-slick-index=' + currentSlide + ']').trigger('click');
      $('.timeline-nav').animate({scrollLeft: $('[data-slick-index=' + currentSlide + ']').position().left}, 500);
    });

 }); // for jQuery
})(jQuery);
;
(function($,Drupal){$.fn.ohoWindow=function(){var $window=$(window),$document=$(document),lastScroll=null,lastSize=null;$window.on('load scroll resize',update)
function update(event){var width=$window.width(),height=$window.height(),maxHeight=$document.outerHeight()-height,currentScroll=Math.min(Math.max(0,$window.scrollTop()),maxHeight),currentSize=width.toString()+height.toString();if('load'===event.type||(lastScroll===currentScroll&&lastSize===currentSize)){window.requestAnimationFrame(update);return};if(['load','scroll'].indexOf(event.type)){scrollDirection=currentScroll>lastScroll?'down':'up';$window.trigger('scrolled',[currentScroll,maxHeight,scrollDirection])};if(['load','resize'].indexOf(event.type))$window.trigger('resized',[width,height,currentScroll,maxHeight]);lastScroll=currentScroll;lastSize=currentSize;window.requestAnimationFrame(update)}};$(window).ohoWindow()})(jQuery,Drupal);
(function($,Drupal){Drupal.behaviors.sjuViewsScroll={attach:function(){Drupal.AjaxCommands.prototype.viewsScrollTop=function(ajax,response){var offset=$(response.selector).offset(),scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())$(scrollTarget).animate({scrollTop:offset.top-100},500)}}}})(jQuery,Drupal);
(function($,once){var deprecatedMessageSuffix="is deprecated in Drupal 9.3.0 and will be removed in Drupal 10.0.0. Use the core/once library instead. See https://www.drupal.org/node/3158256",originalJQOnce=$.fn.once,originalJQRemoveOnce=$.fn.removeOnce;$.fn.once=function jQueryOnce(id){Drupal.deprecationError({message:"jQuery.once() ".concat(deprecatedMessageSuffix)});return originalJQOnce.apply(this,[id])};$.fn.removeOnce=function jQueryRemoveOnce(id){Drupal.deprecationError({message:"jQuery.removeOnce() ".concat(deprecatedMessageSuffix)});return originalJQRemoveOnce.apply(this,[id])};var drupalOnce=once
function augmentedOnce(id,selector,context){originalJQOnce.apply($(selector,context),[id]);return drupalOnce(id,selector,context)}
function remove(id,selector,context){originalJQRemoveOnce.apply($(selector,context),[id]);return drupalOnce.remove(id,selector,context)};window.once=Object.assign(augmentedOnce,drupalOnce,{remove:remove})})(jQuery,once);
/*! js-cookie v3.0.1 | MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}));
;
(function($,Drupal,drupalSettings,cookies){'use strict';var euCookieComplianceBlockCookies,cookieValueDisagreed=(typeof drupalSettings.eu_cookie_compliance.cookie_value_disagreed==='undefined'||drupalSettings.eu_cookie_compliance.cookie_value_disagreed==='')?'0':drupalSettings.eu_cookie_compliance.cookie_value_disagreed,cookieValueAgreedShowThankYou=(typeof drupalSettings.eu_cookie_compliance.cookie_value_agreed_show_thank_you==='undefined'||drupalSettings.eu_cookie_compliance.cookie_value_agreed_show_thank_you==='')?'1':drupalSettings.eu_cookie_compliance.cookie_value_agreed_show_thank_you,cookieValueAgreed=(typeof drupalSettings.eu_cookie_compliance.cookie_value_agreed==='undefined'||drupalSettings.eu_cookie_compliance.cookie_value_agreed==='')?'2':drupalSettings.eu_cookie_compliance.cookie_value_agreed;Drupal.behaviors.euCookieCompliancePopup={attach:function(context){if(typeof drupalSettings.eu_cookie_compliance!=='undefined')$(drupalSettings.eu_cookie_compliance.containing_element).once('eu-cookie-compliance').each(function(){_euccCurrentStatus=self.getCurrentStatus();_euccSelectedCategories=self.getAcceptedCategories();if(drupalSettings.eu_cookie_compliance.popup_eu_only_js){if(Drupal.eu_cookie_compliance.showBanner()){var url=drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix+'eu-cookie-compliance-check',data={};$.getJSON(url,data,function(data){if(data.in_eu){Drupal.eu_cookie_compliance.execute()}else{Drupal.eu_cookie_compliance.setStatus(cookieValueAgreed);if(drupalSettings.eu_cookie_compliance.method==='categories'){var categories=drupalSettings.eu_cookie_compliance.cookie_categories;Drupal.eu_cookie_compliance.setAcceptedCategories(categories);Drupal.eu_cookie_compliance.loadCategoryScripts(categories)}}})}}else Drupal.eu_cookie_compliance.execute();$(this).addClass('eu-cookie-compliance-status-'+Drupal.eu_cookie_compliance.getCurrentStatus())})}};Drupal.eu_cookie_compliance=Drupal.eu_cookie_compliance||function(){(Drupal.eu_cookie_compliance.queue=Drupal.eu_cookie_compliance.queue||[]).push(arguments)};Drupal.eu_cookie_compliance.a=+new Date();var self=Drupal.eu_cookie_compliance,_euccSelectedCategories=[],_euccCurrentStatus=null;self.updateSelectedCategories=function(categories){_euccSelectedCategories=categories};self.updateCurrentStatus=function(status){_euccCurrentStatus=status};Drupal.eu_cookie_compliance.execute=function(){try{if(!drupalSettings.eu_cookie_compliance.popup_enabled)return;if(!Drupal.eu_cookie_compliance.cookiesEnabled())return;Drupal.eu_cookie_compliance.getCurrentStatus();if(typeof Drupal.eu_cookie_compliance.getVersion()==='undefined')Drupal.eu_cookie_compliance.setVersion();var versionChanged=Drupal.eu_cookie_compliance.getVersion()!==drupalSettings.eu_cookie_compliance.cookie_policy_version,closed=!drupalSettings.eu_cookie_compliance.open_by_default||(_euccCurrentStatus!==null&&(!versionChanged||!Drupal.eu_cookie_compliance.hasAgreed()));if(_euccCurrentStatus==0&&drupalSettings.eu_cookie_compliance.settings_tab_enabled&&drupalSettings.eu_cookie_compliance.method==='opt_in'&&!versionChanged){Drupal.eu_cookie_compliance.createPopup(drupalSettings.eu_cookie_compliance.popup_html_info,(_euccCurrentStatus!==null));$('.eu-cookie-withdraw-tab').click(Drupal.eu_cookie_compliance.toggleWithdrawBanner);Drupal.eu_cookie_compliance.attachAgreeEvents()}else if((_euccCurrentStatus===0&&drupalSettings.eu_cookie_compliance.method==='default')||_euccCurrentStatus===null||(_euccCurrentStatus!==1&&drupalSettings.eu_cookie_compliance.withdraw_enabled&&drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup)||(_euccCurrentStatus!==1&&versionChanged)){if(drupalSettings.eu_cookie_compliance.withdraw_enabled||!drupalSettings.eu_cookie_compliance.disagree_do_not_show_popup||_euccCurrentStatus===null){if(window.matchMedia('(max-width: '+drupalSettings.eu_cookie_compliance.mobile_breakpoint+'px)').matches&&drupalSettings.eu_cookie_compliance.use_mobile_message){Drupal.eu_cookie_compliance.createPopup(drupalSettings.eu_cookie_compliance.mobile_popup_html_info,closed)}else Drupal.eu_cookie_compliance.createPopup(drupalSettings.eu_cookie_compliance.popup_html_info,closed);Drupal.eu_cookie_compliance.initPopup();Drupal.eu_cookie_compliance.resizeListener()}}else if(_euccCurrentStatus===1&&drupalSettings.eu_cookie_compliance.popup_agreed_enabled){Drupal.eu_cookie_compliance.createPopup(drupalSettings.eu_cookie_compliance.popup_html_agreed);Drupal.eu_cookie_compliance.attachHideEvents()}else if(_euccCurrentStatus===2&&drupalSettings.eu_cookie_compliance.withdraw_enabled)if(!drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){Drupal.eu_cookie_compliance.createWithdrawBanner(drupalSettings.eu_cookie_compliance.withdraw_markup);Drupal.eu_cookie_compliance.initPopup();Drupal.eu_cookie_compliance.resizeListener()}}catch(e){}};Drupal.eu_cookie_compliance.initPopup=function(){Drupal.eu_cookie_compliance.attachAgreeEvents();if(drupalSettings.eu_cookie_compliance.method==='categories'){Drupal.eu_cookie_compliance.setPreferenceCheckboxes(_euccSelectedCategories);Drupal.eu_cookie_compliance.attachSavePreferencesEvents()};if(drupalSettings.eu_cookie_compliance.withdraw_enabled){Drupal.eu_cookie_compliance.attachWithdrawEvents();if(_euccCurrentStatus===1||_euccCurrentStatus===2)$('.eu-cookie-withdraw-button').show()}};Drupal.eu_cookie_compliance.positionTab=function(){if(drupalSettings.eu_cookie_compliance.popup_position){var totalHeight=$('.eu-cookie-withdraw-tab').outerHeight()+$('.eu-cookie-compliance-banner').outerHeight();$('.eu-cookie-withdraw-tab').css('margin-top',totalHeight+'px')}};Drupal.eu_cookie_compliance.createWithdrawBanner=function(html){var $html=$('<div></div>').html(html),$banner=$('.eu-cookie-withdraw-banner',$html);$html.attr({id:'sliding-popup',role:'banner','aria-describedby':'popup-text'});$html.addClass('eu-cookie-withdraw-wrapper');if(!drupalSettings.eu_cookie_compliance.popup_use_bare_css)$banner.height(drupalSettings.eu_cookie_compliance.popup_height).width(drupalSettings.eu_cookie_compliance.popup_width);$html.hide();var height=0;if(drupalSettings.eu_cookie_compliance.popup_position){$html.prependTo(drupalSettings.eu_cookie_compliance.containing_element);height=$html.outerHeight();$html.show().addClass('sliding-popup-top').addClass('clearfix').css({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+height):-1*height});setTimeout(function(){var height=$html.outerHeight();$html.animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+height):-1*height},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){$html.trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open');Drupal.eu_cookie_compliance.positionTab()})}.bind($html),0)}else{if(drupalSettings.eu_cookie_compliance.better_support_for_screen_readers){$html.prependTo(drupalSettings.eu_cookie_compliance.containing_element)}else $html.appendTo(drupalSettings.eu_cookie_compliance.containing_element);height=$html.outerHeight();$html.show().addClass('sliding-popup-bottom').css({bottom:-1*height});setTimeout(function(){var height=$html.outerHeight();$html.animate({bottom:-1*height},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){$html.trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open')})}.bind($html),0)}};Drupal.eu_cookie_compliance.toggleWithdrawBanner=function(){var $wrapper=$('#sliding-popup'),height=$wrapper.outerHeight(),bannerIsShowing=($wrapper.find('.eu-cookie-compliance-banner, .eu-cookie-withdraw-banner').is(':visible'));if(bannerIsShowing)bannerIsShowing=drupalSettings.eu_cookie_compliance.popup_position?parseInt($wrapper.css('top'))===(!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))):0):parseInt($wrapper.css('bottom'))===0;if(drupalSettings.eu_cookie_compliance.popup_position){if(bannerIsShowing){$wrapper.animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+height):-1*height},drupalSettings.eu_cookie_compliance.popup_delay).trigger('eu_cookie_compliance_popup_close');$('body').removeClass('eu-cookie-compliance-popup-open')}else{$wrapper.find('.eu-cookie-compliance-banner').show();$wrapper.animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))):0},drupalSettings.eu_cookie_compliance.popup_delay).trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open')}}else if(bannerIsShowing){$wrapper.animate({bottom:-1*height},drupalSettings.eu_cookie_compliance.popup_delay).trigger('eu_cookie_compliance_popup_close');$('body').removeClass('eu-cookie-compliance-popup-open')}else{$wrapper.find('.eu-cookie-compliance-banner').show();$wrapper.animate({bottom:0},drupalSettings.eu_cookie_compliance.popup_delay).trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open')}};Drupal.eu_cookie_compliance.resizeListener=function(){var $wrapper=$('#sliding-popup'),debounce=function(func,wait){var timeout;return function executedFunction(){var later=function(){clearTimeout(timeout);func()};clearTimeout(timeout);timeout=setTimeout(later,wait)}},checkIfPopupIsClosed=debounce(function(){var wrapperHeight=$wrapper.outerHeight();if(drupalSettings.eu_cookie_compliance.popup_position){var wrapperTopProperty=parseFloat($wrapper.css('top'));if(wrapperTopProperty<0&&wrapperTopProperty>-wrapperHeight)$wrapper.css('top',wrapperHeight*-1)}else{var wrapperBottomProperty=parseFloat($wrapper.css('bottom'));if(wrapperBottomProperty!==0)$wrapper.css('bottom',wrapperHeight*-1)}},50);setTimeout(function(){checkIfPopupIsClosed()});window.addEventListener('resize',checkIfPopupIsClosed)};Drupal.eu_cookie_compliance.createPopup=function(html,closed){var popup=$('<div></div>').html(html);popup.attr({id:'sliding-popup',role:'banner','aria-describedby':'popup-text'});if(!drupalSettings.eu_cookie_compliance.popup_use_bare_css)popup.height(drupalSettings.eu_cookie_compliance.popup_height).width(drupalSettings.eu_cookie_compliance.popup_width);popup.hide();var height=0;if(drupalSettings.eu_cookie_compliance.popup_position){popup.prependTo(drupalSettings.eu_cookie_compliance.containing_element);height=popup.outerHeight();popup.show().addClass('sliding-popup-top clearfix').css({top:-1*height});if(closed!==true){popup.animate({top:0},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){popup.trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open');Drupal.eu_cookie_compliance.positionTab()})}else setTimeout(function(){Drupal.eu_cookie_compliance.positionTab()},0)}else{if(drupalSettings.eu_cookie_compliance.better_support_for_screen_readers){popup.prependTo(drupalSettings.eu_cookie_compliance.containing_element)}else popup.appendTo(drupalSettings.eu_cookie_compliance.containing_element);height=popup.outerHeight();popup.show().addClass('sliding-popup-bottom').css({bottom:-1*height});if(closed!==true)popup.animate({bottom:0},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){popup.trigger('eu_cookie_compliance_popup_open');$('body').addClass('eu-cookie-compliance-popup-open')})}};Drupal.eu_cookie_compliance.attachAgreeEvents=function(){var clickingConfirms=drupalSettings.eu_cookie_compliance.popup_clicking_confirmation,scrollConfirms=drupalSettings.eu_cookie_compliance.popup_scrolling_confirmation;if(drupalSettings.eu_cookie_compliance.method==='categories'&&drupalSettings.eu_cookie_compliance.enable_save_preferences_button){$('.agree-button').click(Drupal.eu_cookie_compliance.acceptAllAction)}else $('.agree-button').click(Drupal.eu_cookie_compliance.acceptAction);$('.decline-button').click(Drupal.eu_cookie_compliance.declineAction);if(clickingConfirms)$('a, input[type=submit], button[type=submit]').not('.popup-content *').bind('click.euCookieCompliance',Drupal.eu_cookie_compliance.acceptAction);if(scrollConfirms){var alreadyScrolled=false,scrollHandler=function(){if(alreadyScrolled){Drupal.eu_cookie_compliance.acceptAction();$(window).off('scroll',scrollHandler)}else alreadyScrolled=true};$(window).bind('scroll',scrollHandler)};$('.find-more-button').not('.find-more-button-processed').addClass('find-more-button-processed').click(Drupal.eu_cookie_compliance.moreInfoAction)};Drupal.eu_cookie_compliance.attachSavePreferencesEvents=function(){$('.eu-cookie-compliance-save-preferences-button').click(Drupal.eu_cookie_compliance.savePreferencesAction)};Drupal.eu_cookie_compliance.attachHideEvents=function(){var popupHideAgreed=drupalSettings.eu_cookie_compliance.popup_hide_agreed,clickingConfirms=drupalSettings.eu_cookie_compliance.popup_clicking_confirmation;$('.hide-popup-button').click(function(){Drupal.eu_cookie_compliance.changeStatus(cookieValueAgreed)});if(clickingConfirms)$('a, input[type=submit], button[type=submit]').unbind('click.euCookieCompliance');if(popupHideAgreed)$('a, input[type=submit], button[type=submit]').bind('click.euCookieComplianceHideAgreed',function(){Drupal.eu_cookie_compliance.changeStatus(cookieValueAgreed)});$('.find-more-button').not('.find-more-button-processed').addClass('find-more-button-processed').click(Drupal.eu_cookie_compliance.moreInfoAction)};Drupal.eu_cookie_compliance.attachWithdrawEvents=function(){$('.eu-cookie-withdraw-button').click(Drupal.eu_cookie_compliance.withdrawAction);$('.eu-cookie-withdraw-tab').click(Drupal.eu_cookie_compliance.toggleWithdrawBanner)};Drupal.eu_cookie_compliance.acceptAction=function(){var agreedEnabled=drupalSettings.eu_cookie_compliance.popup_agreed_enabled,nextStatus=cookieValueAgreedShowThankYou;if(!agreedEnabled){Drupal.eu_cookie_compliance.setStatus(cookieValueAgreedShowThankYou);nextStatus=cookieValueAgreed};if(!euCookieComplianceHasLoadedScripts&&typeof euCookieComplianceLoadScripts==="function")euCookieComplianceLoadScripts();if(typeof euCookieComplianceBlockCookies!=='undefined')clearInterval(euCookieComplianceBlockCookies);if(drupalSettings.eu_cookie_compliance.method==='categories'){var categories=$("#eu-cookie-compliance-categories input:checkbox:checked").map(function(){return $(this).val()}).get();Drupal.eu_cookie_compliance.setAcceptedCategories(categories);Drupal.eu_cookie_compliance.loadCategoryScripts(categories);if(!categories.length)nextStatus=cookieValueDisagreed};Drupal.eu_cookie_compliance.changeStatus(nextStatus);if(drupalSettings.eu_cookie_compliance.withdraw_enabled&&drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){Drupal.eu_cookie_compliance.attachWithdrawEvents();if(_euccCurrentStatus===1||_euccCurrentStatus===2)$('.eu-cookie-withdraw-button').show()}};Drupal.eu_cookie_compliance.acceptAllAction=function(){var allCategories=drupalSettings.eu_cookie_compliance.cookie_categories;Drupal.eu_cookie_compliance.setPreferenceCheckboxes(allCategories);Drupal.eu_cookie_compliance.acceptAction()};Drupal.eu_cookie_compliance.savePreferencesAction=function(){var categories=$("#eu-cookie-compliance-categories input:checkbox:checked").map(function(){return $(this).val()}).get(),agreedEnabled=drupalSettings.eu_cookie_compliance.popup_agreed_enabled,nextStatus=cookieValueAgreedShowThankYou;if(!agreedEnabled){Drupal.eu_cookie_compliance.setStatus(cookieValueAgreedShowThankYou);nextStatus=cookieValueAgreed};Drupal.eu_cookie_compliance.setAcceptedCategories(categories);Drupal.eu_cookie_compliance.loadCategoryScripts(categories);if(!categories.length)nextStatus=cookieValueDisagreed;Drupal.eu_cookie_compliance.changeStatus(nextStatus)};Drupal.eu_cookie_compliance.loadCategoryScripts=function(categories){for(var cat in categories)if(euCookieComplianceHasLoadedScriptsForCategory[cat]!==true&&typeof euCookieComplianceLoadScripts==="function"){euCookieComplianceLoadScripts(categories[cat]);euCookieComplianceHasLoadedScriptsForCategory[cat]=true}};Drupal.eu_cookie_compliance.declineAction=function(){var set_cookie_session_zero_on_disagree=parseInt(drupalSettings.eu_cookie_compliance.set_cookie_session_zero_on_disagree);if(set_cookie_session_zero_on_disagree)drupalSettings.eu_cookie_compliance.cookie_session=1;Drupal.eu_cookie_compliance.setStatus(cookieValueDisagreed);var popup=$('#sliding-popup');if(popup.hasClass('sliding-popup-top')){if(drupalSettings.eu_cookie_compliance.settings_tab_enabled){popup.animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+popup.outerHeight()):popup.outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,null).trigger('eu_cookie_compliance_popup_close');$('.eu-cookie-withdraw-tab').click(Drupal.eu_cookie_compliance.toggleWithdrawBanner)}else{popup.animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+popup.outerHeight()):popup.outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){popup.hide()}).trigger('eu_cookie_compliance_popup_close');$('body').removeClass('eu-cookie-compliance-popup-open')}}else if(drupalSettings.eu_cookie_compliance.settings_tab_enabled){popup.animate({bottom:popup.outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,null).trigger('eu_cookie_compliance_popup_close');$('.eu-cookie-withdraw-tab').click(Drupal.eu_cookie_compliance.toggleWithdrawBanner)}else{popup.animate({bottom:popup.outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,null,function(){popup.hide()}).trigger('eu_cookie_compliance_popup_close');$('body').removeClass('eu-cookie-compliance-popup-open')}};Drupal.eu_cookie_compliance.withdrawAction=function(){var set_cookie_session_zero_on_disagree=parseInt(drupalSettings.eu_cookie_compliance.set_cookie_session_zero_on_disagree);if(set_cookie_session_zero_on_disagree)drupalSettings.eu_cookie_compliance.cookie_session=1;Drupal.eu_cookie_compliance.setStatus(null);Drupal.eu_cookie_compliance.setAcceptedCategories([]);location.reload()};Drupal.eu_cookie_compliance.moreInfoAction=function(){if(drupalSettings.eu_cookie_compliance.disagree_do_not_show_popup){Drupal.eu_cookie_compliance.setStatus(cookieValueDisagreed);if(drupalSettings.eu_cookie_compliance.withdraw_enabled&&drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){$('#sliding-popup .eu-cookie-compliance-banner').trigger('eu_cookie_compliance_popup_close').hide();$('body').removeClass('eu-cookie-compliance-popup-open')}else{$('#sliding-popup').trigger('eu_cookie_compliance_popup_close').remove();$('body').removeClass('eu-cookie-compliance-popup-open')}}else if(drupalSettings.eu_cookie_compliance.popup_link_new_window){window.open(drupalSettings.eu_cookie_compliance.popup_link)}else window.location.href=drupalSettings.eu_cookie_compliance.popup_link};Drupal.eu_cookie_compliance.getCookieStatus=function(){var cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed':drupalSettings.eu_cookie_compliance.cookie_name,numericalStatus=null;if(cookies.get(cookieName)===cookieValueDisagreed){numericalStatus='0'}else if(cookies.get(cookieName)===cookieValueAgreedShowThankYou){numericalStatus='1'}else if(cookies.get(cookieName)===cookieValueAgreed)numericalStatus='2';var storedStatus=numericalStatus,currentStatus=parseInt(storedStatus);if(isNaN(currentStatus))currentStatus=null;return currentStatus};Drupal.eu_cookie_compliance.getCurrentStatus=function(){var preStatusLoadObject=new PreStatusLoad();self.handleEvent('preStatusLoad',preStatusLoadObject);_euccCurrentStatus=Drupal.eu_cookie_compliance.getCookieStatus();var postStatusLoadObject=new PostStatusLoad();self.handleEvent('postStatusLoad',postStatusLoadObject);return _euccCurrentStatus};Drupal.eu_cookie_compliance.setPreferenceCheckboxes=function(categories){if((categories.length&&Drupal.eu_cookie_compliance.getCookieStatus()!==null)||Drupal.eu_cookie_compliance.getCookieStatus()===0)$("#eu-cookie-compliance-categories input:checkbox").removeAttr("checked");for(var i in categories){var categoryElement=document.getElementById('cookie-category-'+categories[i]);if(categoryElement!==null)categoryElement.checked=true}};Drupal.eu_cookie_compliance.getAcceptedCategories=function(){var prePreferencesLoadObject=new PrePreferencesLoad();self.handleEvent('prePreferencesLoad',prePreferencesLoadObject);var cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-categories':drupalSettings.eu_cookie_compliance.cookie_name+'-categories',storedCategories=cookies.get(cookieName);if(storedCategories!==null&&typeof storedCategories!=='undefined'){if(storedCategories.indexOf('%')!==-1)storedCategories=decodeURI(storedCategories).replace('%2C',',');_euccSelectedCategories=JSON.parse(storedCategories)}else _euccSelectedCategories=[];for(var _categoryName in drupalSettings.eu_cookie_compliance.cookie_categories_details){var _category=drupalSettings.eu_cookie_compliance.cookie_categories_details[_categoryName];if(_category.checkbox_default_state==='required'&&$.inArray(_category.id,_euccSelectedCategories)===-1)_euccSelectedCategories.push(_category.id)};var postPreferencesLoadObject=new PostPreferencesLoad();self.handleEvent('postPreferencesLoad',postPreferencesLoadObject);return _euccSelectedCategories};Drupal.eu_cookie_compliance.changeStatus=function(value){var reloadPage=drupalSettings.eu_cookie_compliance.reload_page,previousState=_euccCurrentStatus;if(_euccCurrentStatus===parseInt(value))return;if(drupalSettings.eu_cookie_compliance.popup_position){$('.sliding-popup-top').animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))+$('#sliding-popup').outerHeight()):$('#sliding-popup').outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,function(){if(value===cookieValueAgreedShowThankYou&&previousState===null&&!reloadPage){$('.sliding-popup-top').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.popup_html_agreed).animate({top:!drupalSettings.eu_cookie_compliance.fixed_top_position?-(parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('padding-top'))+parseInt($(drupalSettings.eu_cookie_compliance.containing_element).css('margin-top'))):0},drupalSettings.eu_cookie_compliance.popup_delay);Drupal.eu_cookie_compliance.attachHideEvents()}else if(previousState===cookieValueAgreedShowThankYou)if(drupalSettings.eu_cookie_compliance.withdraw_enabled&&drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){if(window.matchMedia('(max-width: '+drupalSettings.eu_cookie_compliance.mobile_breakpoint+'px)').matches&&drupalSettings.eu_cookie_compliance.use_mobile_message){$('.sliding-popup-top').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.mobile_popup_html_info)}else $('.sliding-popup-top').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.popup_html_info);Drupal.eu_cookie_compliance.initPopup();Drupal.eu_cookie_compliance.resizeListener()}else $('.sliding-popup-top').not('.eu-cookie-withdraw-wrapper').trigger('eu_cookie_compliance_popup_close').remove();if(drupalSettings.eu_cookie_compliance.withdraw_enabled)Drupal.eu_cookie_compliance.showWithdrawBanner(value)})}else $('.sliding-popup-bottom').animate({bottom:$('#sliding-popup').outerHeight()*-1},drupalSettings.eu_cookie_compliance.popup_delay,function(){if(value===cookieValueAgreedShowThankYou&&previousState===null&&!reloadPage){$('.sliding-popup-bottom').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.popup_html_agreed).animate({bottom:0},drupalSettings.eu_cookie_compliance.popup_delay);Drupal.eu_cookie_compliance.attachHideEvents()}else if(previousState===cookieValueAgreedShowThankYou)if(drupalSettings.eu_cookie_compliance.withdraw_enabled&&drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){if(window.matchMedia('(max-width: '+drupalSettings.eu_cookie_compliance.mobile_breakpoint+'px)').matches&&drupalSettings.eu_cookie_compliance.use_mobile_message){$('.sliding-popup-bottom').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.mobile_popup_html_info)}else $('.sliding-popup-bottom').not('.eu-cookie-withdraw-wrapper').html(drupalSettings.eu_cookie_compliance.popup_html_info);Drupal.eu_cookie_compliance.initPopup();Drupal.eu_cookie_compliance.resizeListener()}else{$('.sliding-popup-bottom').not('.eu-cookie-withdraw-wrapper').trigger('eu_cookie_compliance_popup_close').remove();$('body').removeClass('eu-cookie-compliance-popup-open')};if(drupalSettings.eu_cookie_compliance.withdraw_enabled)Drupal.eu_cookie_compliance.showWithdrawBanner(value)});if(drupalSettings.eu_cookie_compliance.reload_page){var reloadRoutesList;if((reloadRoutesList=drupalSettings.eu_cookie_compliance.reload_routes_list).length!==0){var currentPath=drupalSettings.path.currentPath,match=false;for(var n=0;!match&&n<reloadRoutesList.length;n++){var regExp=new RegExp(reloadRoutesList[n],"g");match=currentPath.match(regExp)!==null};if((match&&!drupalSettings.eu_cookie_compliance.reload_options)||(!match&&drupalSettings.eu_cookie_compliance.reload_options))location.reload()}else location.reload()};Drupal.eu_cookie_compliance.setStatus(value)};Drupal.eu_cookie_compliance.showWithdrawBanner=function(value){if(value===cookieValueAgreed&&drupalSettings.eu_cookie_compliance.withdraw_enabled){if(!drupalSettings.eu_cookie_compliance.withdraw_button_on_info_popup){Drupal.eu_cookie_compliance.createWithdrawBanner(drupalSettings.eu_cookie_compliance.withdraw_markup);Drupal.eu_cookie_compliance.resizeListener()};Drupal.eu_cookie_compliance.attachWithdrawEvents();Drupal.eu_cookie_compliance.positionTab()}};Drupal.eu_cookie_compliance.setStatus=function(status){var preStatusSaveObject=new PreStatusSave();self.handleEvent('preStatusSave',preStatusSaveObject);var date=new Date(),domain=drupalSettings.eu_cookie_compliance.domain?drupalSettings.eu_cookie_compliance.domain:'',path=drupalSettings.eu_cookie_compliance.domain_all_sites?'/':drupalSettings.path.baseUrl,cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed':drupalSettings.eu_cookie_compliance.cookie_name;if(path.length>1){var pathEnd=path.length-1;if(path.lastIndexOf('/')===pathEnd)path=path.substring(0,pathEnd)};var cookie_session=parseInt(drupalSettings.eu_cookie_compliance.cookie_session);if(cookie_session){cookies.set(cookieName,status,{path:path,domain:domain,sameSite:'strict'})}else{var lifetime=parseInt(drupalSettings.eu_cookie_compliance.cookie_lifetime);date.setDate(date.getDate()+lifetime);cookies.set(cookieName,status,{expires:date,path:path,domain:domain,sameSite:'strict'})};_euccCurrentStatus=status;$(document).trigger('eu_cookie_compliance.changeStatus',[status]);Drupal.eu_cookie_compliance.setVersion();if(drupalSettings.eu_cookie_compliance.store_consent&&((status===cookieValueAgreedShowThankYou&&drupalSettings.eu_cookie_compliance.popup_agreed_enabled)||(status===cookieValueAgreed&&!drupalSettings.eu_cookie_compliance.popup_agreed_enabled))){var url=drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix+'eu-cookie-compliance/store_consent/banner';$.post(url,{},function(data){})};var postStatusSaveObject=new PostStatusSave();self.handleEvent('postStatusSave',postStatusSaveObject);if(status===cookieValueDisagreed&&drupalSettings.eu_cookie_compliance.method==='opt_out')euCookieComplianceBlockCookies=setInterval(Drupal.eu_cookie_compliance.BlockCookies,5e3)};Drupal.eu_cookie_compliance.setAcceptedCategories=function(categories){var prePreferencesSaveObject=new PrePreferencesSave();self.handleEvent('prePreferencesSave',prePreferencesSaveObject);var date=new Date(),domain=drupalSettings.eu_cookie_compliance.domain?drupalSettings.eu_cookie_compliance.domain:'',path=drupalSettings.eu_cookie_compliance.domain_all_sites?'/':drupalSettings.path.baseUrl,cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-categories':drupalSettings.eu_cookie_compliance.cookie_name+'-categories';if(path.length>1){var pathEnd=path.length-1;if(path.lastIndexOf('/')===pathEnd)path=path.substring(0,pathEnd)};var categoriesString=JSON.stringify(categories),cookie_session=parseInt(drupalSettings.eu_cookie_compliance.cookie_session);if(cookie_session){cookies.set(cookieName,categoriesString,{path:path,domain:domain,sameSite:'strict'})}else{var lifetime=parseInt(drupalSettings.eu_cookie_compliance.cookie_lifetime);date.setDate(date.getDate()+lifetime);cookies.set(cookieName,categoriesString,{expires:date,path:path,domain:domain,sameSite:'strict'})};_euccSelectedCategories=categories;$(document).trigger('eu_cookie_compliance.changePreferences',[categories]);var postPreferencesSaveObject=new PostPreferencesSave();self.handleEvent('postPreferencesSave',postPreferencesSaveObject)};Drupal.eu_cookie_compliance.hasAgreed=function(category){var agreed=(_euccCurrentStatus===1||_euccCurrentStatus===2);if(category!==undefined&&agreed)agreed=Drupal.eu_cookie_compliance.hasAgreedWithCategory(category);return agreed};Drupal.eu_cookie_compliance.hasAgreedWithCategory=function(category){return $.inArray(category,_euccSelectedCategories)!==-1};Drupal.eu_cookie_compliance.showBanner=function(){var showBanner=false;if((_euccCurrentStatus===0&&drupalSettings.eu_cookie_compliance.method==='default')||_euccCurrentStatus===null){if(!drupalSettings.eu_cookie_compliance.disagree_do_not_show_popup||_euccCurrentStatus===null)showBanner=true}else if(_euccCurrentStatus===1&&drupalSettings.eu_cookie_compliance.popup_agreed_enabled){showBanner=true}else if(_euccCurrentStatus===2&&drupalSettings.eu_cookie_compliance.withdraw_enabled)showBanner=true;return showBanner};Drupal.eu_cookie_compliance.cookiesEnabled=function(){var cookieEnabled=(navigator.cookieEnabled);if(typeof navigator.cookieEnabled==='undefined'&&!cookieEnabled){cookies.set('testcookie','testcookie',{expires:100,sameSite:'strict'});cookieEnabled=(cookies.get('testcookie').indexOf('testcookie')!==-1)};return cookieEnabled};Drupal.eu_cookie_compliance.cookieMatches=function(cookieName,pattern){if(cookieName===pattern)return true;if(pattern.indexOf('*')<0)return false;try{var regexp=new RegExp('^'+pattern.replace(/\./g,'\\.').replace(/\*/g,'.+')+'$','g');return regexp.test(cookieName)}catch(err){return false}};Drupal.eu_cookie_compliance.isAllowed=function(cookieName){if(cookieName.indexOf('SESS')===0||cookieName.indexOf('SSESS')===0)return true;var euCookieComplianceAllowlist=drupalSettings.eu_cookie_compliance.allowed_cookies.split(/\r\n|\n|\r/g);euCookieComplianceAllowlist.push((typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed':drupalSettings.eu_cookie_compliance.cookie_name);euCookieComplianceAllowlist.push((typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-categories':drupalSettings.eu_cookie_compliance.cookie_name+'-categories');euCookieComplianceAllowlist.push((typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-version':drupalSettings.eu_cookie_compliance.cookie_name+'-version');for(var item in euCookieComplianceAllowlist)if(typeof euCookieComplianceAllowlist[item]==="string"){if(Drupal.eu_cookie_compliance.cookieMatches(cookieName,euCookieComplianceAllowlist[item]))return true;if(drupalSettings.eu_cookie_compliance.method==='categories'){var separatorPos=euCookieComplianceAllowlist[item].indexOf(":");if(separatorPos!==-1){var category=euCookieComplianceAllowlist[item].substr(0,separatorPos),wlCookieName=euCookieComplianceAllowlist[item].substr(separatorPos+1);if(Drupal.eu_cookie_compliance.cookieMatches(cookieName,wlCookieName)&&Drupal.eu_cookie_compliance.hasAgreedWithCategory(category))return true}}};return false};Drupal.eu_cookie_compliance.getVersion=function(){if(!Drupal.eu_cookie_compliance.hasAgreed())return false;var cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-version':drupalSettings.eu_cookie_compliance.cookie_name+'-version';return cookies.get(cookieName)};Drupal.eu_cookie_compliance.setVersion=function(){if(!Drupal.eu_cookie_compliance.hasAgreed())return false;var date=new Date(),domain=drupalSettings.eu_cookie_compliance.domain?drupalSettings.eu_cookie_compliance.domain:'',path=drupalSettings.eu_cookie_compliance.domain_all_sites?'/':drupalSettings.path.baseUrl,cookieName=(typeof drupalSettings.eu_cookie_compliance.cookie_name==='undefined'||drupalSettings.eu_cookie_compliance.cookie_name==='')?'cookie-agreed-version':drupalSettings.eu_cookie_compliance.cookie_name+'-version';if(path.length>1){var pathEnd=path.length-1;if(path.lastIndexOf('/')===pathEnd)path=path.substring(0,pathEnd)};var eucc_version=drupalSettings.eu_cookie_compliance.cookie_policy_version,cookie_session=parseInt(drupalSettings.eu_cookie_compliance.cookie_session);if(cookie_session){cookies.set(cookieName,eucc_version,{path:path,domain:domain,sameSite:'strict'})}else{var lifetime=parseInt(drupalSettings.eu_cookie_compliance.cookie_lifetime);date.setDate(date.getDate()+lifetime);cookies.set(cookieName,eucc_version,{expires:date,path:path,domain:domain,sameSite:'strict'})}};var euCookieComplianceHasLoadedScripts=false,euCookieComplianceHasLoadedScriptsForCategory=[];$(function(){if(typeof drupalSettings.eu_cookie_compliance!=='undefined')if(Drupal.eu_cookie_compliance.hasAgreed()||(_euccCurrentStatus===null&&drupalSettings.eu_cookie_compliance.method!=='opt_in'&&drupalSettings.eu_cookie_compliance.method!=='categories')){if(typeof euCookieComplianceLoadScripts==="function")euCookieComplianceLoadScripts();euCookieComplianceHasLoadedScripts=true;if(drupalSettings.eu_cookie_compliance.method==='categories')Drupal.eu_cookie_compliance.loadCategoryScripts(_euccSelectedCategories)}});Drupal.eu_cookie_compliance.BlockCookies=function(){var cookieStatus=Drupal.eu_cookie_compliance.getCookieStatus();if((cookieStatus===1||cookieStatus===2)&&drupalSettings.eu_cookie_compliance.method!=='categories')if(typeof euCookieComplianceBlockCookies!=='undefined'){clearInterval(euCookieComplianceBlockCookies);return};var allCookies=cookies.get();for(var i in allCookies){var remove=true,hostname=window.location.hostname,cookieRemoved=false,index=0;remove=!Drupal.eu_cookie_compliance.isAllowed(i);if(remove){while(!cookieRemoved&&hostname!==''){cookies.remove(i,{domain:'.'+hostname,path:'/'});cookieRemoved=!cookies.get(i);if(!cookieRemoved){cookies.remove(i,{domain:hostname,path:'/'});cookieRemoved=!cookies.get(i)};index=hostname.indexOf('.');hostname=(index===-1)?'':hostname.substring(index+1)};if(!cookieRemoved)document.cookie=i+'=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;'}}};if((typeof drupalSettings.eu_cookie_compliance!=='undefined')&&drupalSettings.eu_cookie_compliance.automatic_cookies_removal&&((drupalSettings.eu_cookie_compliance.method==='opt_in'&&(_euccCurrentStatus===null||!Drupal.eu_cookie_compliance.hasAgreed()))||(drupalSettings.eu_cookie_compliance.method==='opt_out'&&!Drupal.eu_cookie_compliance.hasAgreed()&&_euccCurrentStatus!==null)||(drupalSettings.eu_cookie_compliance.method==='categories')))euCookieComplianceBlockCookies=setInterval(Drupal.eu_cookie_compliance.BlockCookies,5e3);var filterQueue=function(forEventName){var handlers=[];if(typeof Drupal.eu_cookie_compliance!=='undefined'&&typeof Drupal.eu_cookie_compliance.queue!=='undefined'&&Drupal.eu_cookie_compliance.queue.length)for(var i=0;i<Drupal.eu_cookie_compliance.queue.length;i++)if(Drupal.eu_cookie_compliance.queue[i].length){var queueItem=Drupal.eu_cookie_compliance.queue[i],eventName=queueItem[0],eventHandler=queueItem[1];if(typeof eventName==='string'&&typeof eventHandler==='function')if(eventName===forEventName)handlers.push(eventHandler)};return handlers};self.handleEvent=function(eventName,observer){var handlers=filterQueue(eventName);for(var i=0;i<handlers.length;i++)if(typeof handlers[i]!=='undefined'){observer.subscribe(handlers[i]);observer.fire({currentStatus:_euccCurrentStatus,currentCategories:_euccSelectedCategories});observer.unsubscribe(handlers[i])}};var PreStatusLoad=(function(){var PreStatusLoad=function(){this.handlers=[]},prototype=PreStatusLoad.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return PreStatusLoad})(),PostStatusLoad=(function(){var PostStatusLoad=function(){this.handlers=[]},prototype=PostStatusLoad.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return PostStatusLoad})(),PreStatusSave=(function(){var PreStatusSave=function(){this.handlers=[]},prototype=PreStatusSave.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return PreStatusSave})(),PostStatusSave=(function(){var PostStatusSave=function(){this.handlers=[]},prototype=PostStatusSave.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return PostStatusSave})(),PrePreferencesLoad=(function(){var prePreferencesLoad=function(){this.handlers=[]},prototype=prePreferencesLoad.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return prePreferencesLoad})(),PostPreferencesLoad=(function(){var postPreferencesLoad=function(){this.handlers=[]},prototype=postPreferencesLoad.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return postPreferencesLoad})(),PrePreferencesSave=(function(){var prePreferencesSave=function(){this.handlers=[]},prototype=prePreferencesSave.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return prePreferencesSave})(),PostPreferencesSave=(function(){var postPreferencesSave=function(){this.handlers=[]},prototype=postPreferencesSave.prototype;prototype.subscribe=function(fn){this.handlers.push(fn)};prototype.unsubscribe=function(fn){this.handlers=this.handlers.filter(function(item){if(item!==fn)return item})};prototype.fire=function(o,thisObj){var scope=thisObj||window;this.handlers.forEach(function(item){item.call(scope,o)})};return postPreferencesSave})()})(jQuery,Drupal,drupalSettings,window.Cookies);
(function($,Drupal){Drupal.theme.progressBar=function(id){return"<div id=\"".concat(id,"\" class=\"progress\" aria-live=\"polite\">")+'<div class="progress__label">&nbsp;</div><div class="progress__track"><div class="progress__bar"></div></div><div class="progress__percentage"></div><div class="progress__description">&nbsp;</div></div>'};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id))};$.extend(Drupal.ProgressBar.prototype,{setProgress:function setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').css('width',"".concat(percentage,"%"));$(this.element).find('div.progress__percentage').html("".concat(percentage,"%"))};$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this)},startMonitoring:function startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing()},stopMonitoring:function stopMonitoring(){clearTimeout(this.timer);this.uri=null},sendPing:function sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){var pb=this,uri=this.uri;if(uri.indexOf('?')===-1){uri+='?'}else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success:function success(progress){if(progress.status===0){pb.displayError(progress.data);return};pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(function(){pb.sendPing()},pb.delay)},error:function error(xmlhttp){var e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError("<pre>".concat(e.message,"</pre>"))}})}},displayError:function displayError(string){var error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this)}})})(jQuery,Drupal);
(function(Drupal){Drupal.behaviors.responsiveImageAJAX={attach:function attach(){if(window.picturefill)window.picturefill()}}})(Drupal);
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2};(function($,window,Drupal,drupalSettings,_ref){var isFocusable=_ref.isFocusable,tabbable=_ref.tabbable;Drupal.behaviors.AJAX={attach:function attach(context,settings){function loadAjaxBehavior(base){var elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector="#".concat(base);once('drupal-ajax',$(elementSettings.selector)).forEach(function(el){elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings)})};Object.keys(settings.ajax||{}).forEach(function(base){return loadAjaxBehavior(base)});Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach(function(el){var elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings)})},detach:function detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach(function(instance){Drupal.ajax.instances[instance.instanceIndex]=null})}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){var statusCode,statusText,responseText;if(xmlhttp.status){statusCode="\n".concat(Drupal.t('An AJAX HTTP error occurred.'),"\n").concat(Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status}))}else statusCode="\n".concat(Drupal.t('An AJAX HTTP request terminated abnormally.'));statusCode+="\n".concat(Drupal.t('Debugging information follows.'));var pathText="\n".concat(Drupal.t('Path: !uri',{'!uri':uri}));statusText='';try{statusText="\n".concat(Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()}))}catch(e){};responseText='';try{responseText="\n".concat(Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()}))}catch(e){};responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');var readyStateText=xmlhttp.status===0?"\n".concat(Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})):'';customMessage=customMessage?"\n".concat(Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})):'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError'};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');var base=settings.base||false,element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;var ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter(function(instance){return instance&&instance.element!==false&&!document.body.contains(instance.element)})};Drupal.ajax.bindAjaxLinks=function(element){once('ajax','.use-ajax',element).forEach(function(ajaxLink){var $linkElement=$(ajaxLink),elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink},href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click'};Drupal.ajax(elementSettings)})};Drupal.Ajax=function(base,element,elementSettings){var defaults={event:element?'mousedown':null,keypress:true,selector:base?"#".concat(base):null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper="#".concat(this.wrapper);this.element=element;this.element_settings=elementSettings;this.elementSettings=elementSettings;if(this.element&&this.element.form)this.$form=$(this.element.form);if(!this.url){var $element=$(this.element);if($element.is('a')){this.url=$element.attr('href')}else if(this.element&&element.form)this.url=this.$form.attr('action')};var originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options)},beforeSubmit:function beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;return ajax.beforeSubmit(formValues,elementSettings,options)},beforeSend:function beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options)},success:function success(response,status,xmlhttprequest){if(typeof response==='string')response=$.parseJSON(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage)};return ajax.success(response,status)},complete:function complete(xmlhttprequest,status){ajax.ajaxing=false;if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url)},dataType:'json',jsonp:false,type:'POST'};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(ajax.options.url.indexOf('?')===-1){ajax.options.url+='?'}else ajax.options.url+='&';var wrapper="drupal_".concat(elementSettings.dialogType||'ajax');if(elementSettings.dialogRenderer)wrapper+=".".concat(elementSettings.dialogRenderer);ajax.options.url+="".concat(Drupal.ajax.WRAPPER_FORMAT,"=").concat(wrapper);$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));return ajax.eventResponse(this,event)});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event)});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false)};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options)}catch(e){this.ajaxing=false;window.alert("An error occurred while attempting to process ".concat(this.options.url,": ").concat(e.message));return $.Deferred().reject()}};Drupal.Ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which===13||event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number'){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event)}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();var ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options)}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options)}}catch(e){ajax.ajaxing=false;window.alert("An error occurred while attempting to process ".concat(ajax.options.url,": ").concat(e.message))}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize')};options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;var pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v};$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;var progressIndicatorMethod="setProgressIndicator".concat(this.progress.type.slice(0,1).toUpperCase()).concat(this.progress.type.slice(1).toLowerCase());if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this)};Drupal.theme.ajaxProgressThrobber=function(message){var messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'',throbber='<div class="throbber">&nbsp;</div>';return"<div class=\"ajax-progress ajax-progress-throbber\">".concat(throbber).concat(messageMarkup,"</div>")};Drupal.theme.ajaxProgressIndicatorFullscreen=function(){return'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>'};Drupal.theme.ajaxProgressMessage=function(message){return"<div class=\"message\">".concat(message,"</div>")};Drupal.theme.ajaxProgressBar=function($element){return $('<div class="ajax-progress ajax-progress-bar"></div>').append($element)};Drupal.Ajax.prototype.setProgressIndicatorBar=function(){var progressBar=new Drupal.ProgressBar("ajax-progress-".concat(this.element.id),$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element)};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));$(this.element).after(this.progress.element)};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element)};Drupal.Ajax.prototype.success=function(response,status){var _this=this;if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray(),focusChanged=false;Object.keys(response||{}).forEach(function(i){if(response[i].command&&_this.commands[response[i].command]){_this.commands[response[i].command](_this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'||response[i].command==='focusFirst')focusChanged=true}});if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector("[data-drupal-selector=\"".concat(elementParents[n].getAttribute('data-drupal-selector'),"\"]"));if(target)$(target).trigger('focus')};if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings)};this.settings=null};Drupal.Ajax.prototype.getEffect=function(response){var type=response.effect||this.effect,speed=response.speed||this.speed,effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed=''}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed}else{effect.showEffect="".concat(type,"Toggle");effect.hideEffect="".concat(type,"Toggle");effect.showSpeed=speed};return effect};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings)};throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage)};Drupal.theme.ajaxWrapperNewContent=function($newContent,ajax,response){return(response.effect||ajax.effect)!=='none'&&$newContent.filter(function(i){return!($newContent[i].nodeName==='#comment'||$newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))}).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent};Drupal.theme.ajaxWrapperMultipleRootElements=function($elements){return $('<div></div>').append($elements)};Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert:function insert(ajax,response){var $wrapper=response.selector?$(response.selector):$(ajax.wrapper),method=response.method||ajax.method,effect=ajax.getEffect(response),settings=response.settings||ajax.settings||drupalSettings,$newContent=$($.parseHTML(response.data,document,true));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break};$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();var $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed)}else if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);if($newContent.parents('html').length)$newContent.each(function(index,element){if(element.nodeType===Node.ELEMENT_NODE)Drupal.attachBehaviors(element,settings)})},remove:function remove(ajax,response,status){var settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings)}).remove()},changed:function changed(ajax,response,status){var $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(" <abbr class=\"ajax-changed\" title=\"".concat(Drupal.t('Changed'),"\">*</abbr> "))}},alert:function alert(ajax,response,status){window.alert(response.text)},announce:function announce(ajax,response){if(response.priority){Drupal.announce(response.text,response.priority)}else Drupal.announce(response.text)},redirect:function redirect(ajax,response,status){window.location=response.url},css:function css(ajax,response,status){$(response.selector).css(response.argument)},settings:function settings(ajax,response,status){var ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach(function(instance){if(instance.selector){var selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector]}});if(response.merge){$.extend(true,drupalSettings,response.settings)}else ajax.settings=response.settings},data:function data(ajax,response,status){$(response.selector).data(response.name,response.value)},focusFirst:function focusFirst(ajax,response,status){var focusChanged=false,container=document.querySelector(response.selector);if(container){var tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true}else if(isFocusable(container)){container.focus();focusChanged=true}};if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus()},invoke:function invoke(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,_toConsumableArray(response.args))},restripe:function restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even')},update_build_id:function update_build_id(ajax,response,status){$("input[name=\"form_build_id\"][value=\"".concat(response.old,"\"]")).val(response.new)},add_css:function add_css(ajax,response,status){$('head').prepend(response.data)},message:function message(ajax,response){var messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions)}}})(jQuery,window,Drupal,drupalSettings,window.tabbable);
!function(s,t){"use strict";var c,i,u=t.blazy||{};(t=(t.Ajax||{}).prototype).success=(i=t.success,function(t,e){var n,o=u.init;return o&&(n=u.options,clearTimeout(c),c=setTimeout(function(){var t=s.findAll(document,s.selector(n,!0));t.length&&o.load(t,!0,n)},100)),i.apply(this,arguments)})}(dBlazy,Drupal);
;
/*!
 * jQuery Form Plugin
 * version: 4.3.0
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),r(t),t}:r(jQuery)}(function(q){"use strict";var m=/\r?\n/g,S={};S.fileapi=void 0!==q('<input type="file">').get(0).files,S.formdata=void 0!==window.FormData;var _=!!q.fn.prop;function o(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),q(e.target).closest("form").ajaxSubmit(t))}function i(e){var t=e.target,r=q(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n,o=t.form;"image"===(o.clk=t).type&&(void 0!==e.offsetX?(o.clk_x=e.offsetX,o.clk_y=e.offsetY):"function"==typeof q.fn.offset?(n=r.offset(),o.clk_x=e.pageX-n.left,o.clk_y=e.pageY-n.top):(o.clk_x=e.pageX-t.offsetLeft,o.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function N(){var e;q.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}q.fn.attr2=function(){if(!_)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},q.fn.ajaxSubmit=function(M,e,t,r){if(!this.length)return N("ajaxSubmit: skipping submit process - no element selected"),this;var O,a,n,o,X=this;"function"==typeof M?M={success:M}:"string"==typeof M||!1===M&&0<arguments.length?(M={url:M,data:e,dataType:t},"function"==typeof r&&(M.success=r)):void 0===M&&(M={}),O=M.method||M.type||this.attr2("method"),n=(n=(n="string"==typeof(a=M.url||this.attr2("action"))?q.trim(a):"")||window.location.href||"")&&(n.match(/^([^#]+)/)||[])[1],o=/(MSIE|Trident)/.test(navigator.userAgent||"")&&/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",M=q.extend(!0,{url:n,success:q.ajaxSettings.success,type:O||q.ajaxSettings.type,iframeSrc:o},M);var i={};if(this.trigger("form-pre-serialize",[this,M,i]),i.veto)return N("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return N("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var s=M.traditional;void 0===s&&(s=q.ajaxSettings.traditional);var u,c,C=[],l=this.formToArray(M.semantic,C,M.filtering);if(M.data&&(c=q.isFunction(M.data)?M.data(l):M.data,M.extraData=c,u=q.param(c,s)),M.beforeSubmit&&!1===M.beforeSubmit(l,this,M))return N("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[l,this,M,i]),i.veto)return N("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=q.param(l,s);u&&(f=f?f+"&"+u:u),"GET"===M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+f,M.data=null):M.data=f;var d,m,p,h=[];M.resetForm&&h.push(function(){X.resetForm()}),M.clearForm&&h.push(function(){X.clearForm(M.includeHidden)}),!M.dataType&&M.target?(d=M.success||function(){},h.push(function(e,t,r){var a=arguments,n=M.replaceTarget?"replaceWith":"html";q(M.target)[n](e).each(function(){d.apply(this,a)})})):M.success&&(q.isArray(M.success)?q.merge(h,M.success):h.push(M.success)),M.success=function(e,t,r){for(var a=M.context||this,n=0,o=h.length;n<o;n++)h[n].apply(a,[e,t,r||X,X])},M.error&&(m=M.error,M.error=function(e,t,r){var a=M.context||this;m.apply(a,[e,t,r,X])}),M.complete&&(p=M.complete,M.complete=function(e,t){var r=M.context||this;p.apply(r,[e,t,X])});var v=0<q("input[type=file]:enabled",this).filter(function(){return""!==q(this).val()}).length,g="multipart/form-data",x=X.attr("enctype")===g||X.attr("encoding")===g,y=S.fileapi&&S.formdata;N("fileAPI :"+y);var b,T=(v||x)&&!y;!1!==M.iframe&&(M.iframe||T)?M.closeKeepAlive?q.get(M.closeKeepAlive,function(){b=w(l)}):b=w(l):b=(v||x)&&y?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(M.extraData){var a=function(e){var t,r,a=q.param(e,M.traditional).split("&"),n=a.length,o=[];for(t=0;t<n;t++)a[t]=a[t].replace(/\+/g," "),r=a[t].split("="),o.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return o}(M.extraData);for(t=0;t<a.length;t++)a[t]&&r.append(a[t][0],a[t][1])}M.data=null;var n=q.extend(!0,{},q.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:O||"POST"});M.uploadProgress&&(n.xhr=function(){var e=q.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),M.uploadProgress(e,r,a,t)},!1),e});n.data=null;var o=n.beforeSend;return n.beforeSend=function(e,t){M.formData?t.data=M.formData:t.data=r,o&&o.call(this,e,t)},q.ajax(n)}(l):q.ajax(M),X.removeData("jqxhr").data("jqxhr",b);for(var j=0;j<C.length;j++)C[j]=null;return this.trigger("form-submit-notify",[this,M]),this;function w(e){var t,r,l,f,o,d,m,p,a,n,h,v,i=X[0],g=q.Deferred();if(g.abort=function(e){p.abort(e)},e)for(r=0;r<C.length;r++)t=q(C[r]),_?t.prop("disabled",!1):t.removeAttr("disabled");(l=q.extend(!0,{},q.ajaxSettings,M)).context=l.context||l,o="jqFormIO"+(new Date).getTime();var s=i.ownerDocument,u=X.closest("body");if(l.iframeTarget?(n=(d=q(l.iframeTarget,s)).attr2("name"))?o=n:d.attr2("name",o):(d=q('<iframe name="'+o+'" src="'+l.iframeSrc+'" />',s)).css({position:"absolute",top:"-1000px",left:"-1000px"}),m=d[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";N("aborting upload... "+t),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}d.attr("src",l.iframeSrc),p.error=t,l.error&&l.error.call(l.context,p,t,e),f&&q.event.trigger("ajaxError",[p,l,t]),l.complete&&l.complete.call(l.context,p,t)}},(f=l.global)&&0==q.active++&&q.event.trigger("ajaxStart"),f&&q.event.trigger("ajaxSend",[p,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,p,l))return l.global&&q.active--,g.reject(),g;if(p.aborted)return g.reject(),g;(a=i.clk)&&(n=a.name)&&!a.disabled&&(l.extraData=l.extraData||{},l.extraData[n]=a.value,"image"===a.type&&(l.extraData[n+".x"]=i.clk_x,l.extraData[n+".y"]=i.clk_y));var x=1,y=2;function b(t){var r=null;try{t.contentWindow&&(r=t.contentWindow.document)}catch(e){N("cannot get iframe.contentWindow document: "+e)}if(r)return r;try{r=t.contentDocument?t.contentDocument:t.document}catch(e){N("cannot get iframe.contentDocument: "+e),r=t.document}return r}var c=q("meta[name=csrf-token]").attr("content"),T=q("meta[name=csrf-param]").attr("content");function j(){var e=X.attr2("target"),t=X.attr2("action"),r=X.attr("enctype")||X.attr("encoding")||"multipart/form-data";i.setAttribute("target",o),O&&!/post/i.test(O)||i.setAttribute("method","POST"),t!==l.url&&i.setAttribute("action",l.url),l.skipEncodingOverride||O&&!/post/i.test(O)||X.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){h=!0,A(x)},l.timeout));var a=[];try{if(l.extraData)for(var n in l.extraData)l.extraData.hasOwnProperty(n)&&(q.isPlainObject(l.extraData[n])&&l.extraData[n].hasOwnProperty("name")&&l.extraData[n].hasOwnProperty("value")?a.push(q('<input type="hidden" name="'+l.extraData[n].name+'">',s).val(l.extraData[n].value).appendTo(i)[0]):a.push(q('<input type="hidden" name="'+n+'">',s).val(l.extraData[n]).appendTo(i)[0]));l.iframeTarget||d.appendTo(u),m.attachEvent?m.attachEvent("onload",A):m.addEventListener("load",A,!1),setTimeout(function e(){try{var t=b(m).readyState;N("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(e){N("Server abort: ",e," (",e.name,")"),A(y),v&&clearTimeout(v),v=void 0}},15);try{i.submit()}catch(e){document.createElement("form").submit.apply(i)}}finally{i.setAttribute("action",t),i.setAttribute("enctype",r),e?i.setAttribute("target",e):X.removeAttr("target"),q(a).remove()}}T&&c&&(l.extraData=l.extraData||{},l.extraData[T]=c),l.forceSync?j():setTimeout(j,10);var w,S,k,D=50;function A(e){if(!p.aborted&&!k){if((S=b(m))||(N("cannot access response document"),e=y),e===x&&p)return p.abort("timeout"),void g.reject(p,"timeout");if(e===y&&p)return p.abort("server abort"),void g.reject(p,"error","server abort");if(S&&S.location.href!==l.iframeSrc||h){m.detachEvent?m.detachEvent("onload",A):m.removeEventListener("load",A,!1);var t,r="success";try{if(h)throw"timeout";var a="xml"===l.dataType||S.XMLDocument||q.isXMLDoc(S);if(N("isXml="+a),!a&&window.opera&&(null===S.body||!S.body.innerHTML)&&--D)return N("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var n=S.body?S.body:S.documentElement;p.responseText=n?n.innerHTML:null,p.responseXML=S.XMLDocument?S.XMLDocument:S,a&&(l.dataType="xml"),p.getResponseHeader=function(e){return{"content-type":l.dataType}[e.toLowerCase()]},n&&(p.status=Number(n.getAttribute("status"))||p.status,p.statusText=n.getAttribute("statusText")||p.statusText);var o,i,s,u=(l.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);c||l.textarea?(o=S.getElementsByTagName("textarea")[0])?(p.responseText=o.value,p.status=Number(o.getAttribute("status"))||p.status,p.statusText=o.getAttribute("statusText")||p.statusText):c&&(i=S.getElementsByTagName("pre")[0],s=S.getElementsByTagName("body")[0],i?p.responseText=i.textContent?i.textContent:i.innerText:s&&(p.responseText=s.textContent?s.textContent:s.innerText)):"xml"===u&&!p.responseXML&&p.responseText&&(p.responseXML=F(p.responseText));try{w=E(p,u,l)}catch(e){r="parsererror",p.error=t=e||r}}catch(e){N("error caught: ",e),r="error",p.error=t=e||r}p.aborted&&(N("upload aborted"),r=null),p.status&&(r=200<=p.status&&p.status<300||304===p.status?"success":"error"),"success"===r?(l.success&&l.success.call(l.context,w,"success",p),g.resolve(p.responseText,"success",p),f&&q.event.trigger("ajaxSuccess",[p,l])):r&&(void 0===t&&(t=p.statusText),l.error&&l.error.call(l.context,p,r,t),g.reject(p,"error",t),f&&q.event.trigger("ajaxError",[p,l,t])),f&&q.event.trigger("ajaxComplete",[p,l]),f&&!--q.active&&q.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,p,r),k=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget?d.attr("src",l.iframeSrc):d.remove(),p.responseXML=null},100)}}}var F=q.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},L=q.parseJSON||function(e){return window.eval("("+e+")")},E=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n=("xml"===t||!t)&&0<=a.indexOf("xml"),o=n?e.responseXML:e.responseText;return n&&"parsererror"===o.documentElement.nodeName&&q.error&&q.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,t)),"string"==typeof o&&(("json"===t||!t)&&0<=a.indexOf("json")?o=L(o):("script"===t||!t)&&0<=a.indexOf("javascript")&&q.globalEval(o)),o};return g}},q.fn.ajaxForm=function(e,t,r,a){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:t,dataType:r},"function"==typeof a&&(e.success=a)),(e=e||{}).delegation=e.delegation&&q.isFunction(q.fn.on),e.delegation||0!==this.length)return e.delegation?(q(document).off("submit.form-plugin",this.selector,o).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,e,o).on("click.form-plugin",this.selector,e,i),this):(e.beforeFormUnbind&&e.beforeFormUnbind(this,e),this.ajaxFormUnbind().on("submit.form-plugin",e,o).on("click.form-plugin",e,i));var n={s:this.selector,c:this.context};return!q.isReady&&n.s?(N("DOM not ready, queuing ajaxForm"),q(function(){q(n.s,n.c).ajaxForm(e)})):N("terminating; zero elements found by selector"+(q.isReady?"":" (DOM not ready)")),this},q.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},q.fn.formToArray=function(e,t,r){var a=[];if(0===this.length)return a;var n,o,i,s,u,c,l,f,d,m,p=this[0],h=this.attr("id"),v=(v=e||void 0===p.elements?p.getElementsByTagName("*"):p.elements)&&q.makeArray(v);if(h&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(n=q(':input[form="'+h+'"]').get()).length&&(v=(v||[]).concat(n)),!v||!v.length)return a;for(q.isFunction(r)&&(v=q.map(v,r)),o=0,c=v.length;o<c;o++)if((m=(u=v[o]).name)&&!u.disabled)if(e&&p.clk&&"image"===u.type)p.clk===u&&(a.push({name:m,value:q(u).val(),type:u.type}),a.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y}));else if((s=q.fieldValue(u,!0))&&s.constructor===Array)for(t&&t.push(u),i=0,l=s.length;i<l;i++)a.push({name:m,value:s[i]});else if(S.fileapi&&"file"===u.type){t&&t.push(u);var g=u.files;if(g.length)for(i=0;i<g.length;i++)a.push({name:m,value:g[i],type:u.type});else a.push({name:m,value:"",type:u.type})}else null!=s&&(t&&t.push(u),a.push({name:m,value:s,type:u.type,required:u.required}));return e||!p.clk||(m=(d=(f=q(p.clk))[0]).name)&&!d.disabled&&"image"===d.type&&(a.push({name:m,value:f.val()}),a.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y})),a},q.fn.formSerialize=function(e){return q.param(this.formToArray(e))},q.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=q.fieldValue(this,n);if(t&&t.constructor===Array)for(var r=0,a=t.length;r<a;r++)o.push({name:e,value:t[r]});else null!=t&&o.push({name:this.name,value:t})}}),q.param(o)},q.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],o=q.fieldValue(n,e);null==o||o.constructor===Array&&!o.length||(o.constructor===Array?q.merge(t,o):t.push(o))}return t},q.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"===a||"button"===a||("checkbox"===a||"radio"===a)&&!e.checked||("submit"===a||"image"===a)&&e.form&&e.form.clk!==e||"select"===n&&-1===e.selectedIndex))return null;if("select"!==n)return q(e).val().replace(m,"\r\n");var o=e.selectedIndex;if(o<0)return null;for(var i=[],s=e.options,u="select-one"===a,c=u?o+1:s.length,l=u?o:0;l<c;l++){var f=s[l];if(f.selected&&!f.disabled){var d=(d=f.value)||(f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value);if(u)return d;i.push(d)}}return i},q.fn.clearForm=function(e){return this.each(function(){q("input,select,textarea",this).clearFields(e)})},q.fn.clearFields=q.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"===t?this.value="":"checkbox"===e||"radio"===e?this.checked=!1:"select"===t?this.selectedIndex=-1:"file"===e?/MSIE/.test(navigator.userAgent)?q(this).replaceWith(q(this).clone(!0)):q(this).val(""):r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&q(this).is(r))&&(this.value="")})},q.fn.resetForm=function(){return this.each(function(){var t=q(this),e=this.tagName.toLowerCase();switch(e){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var r=t.parents("select");return r.length&&r[0].multiple?"option"===e?this.selected=this.defaultSelected:t.find("option").resetForm():r.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var a=q(t.attr("for")),n=t.find("input,select,textarea");return a[0]&&n.unshift(a[0]),n.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},q.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},q.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e,t=this.type;"checkbox"===t||"radio"===t?this.checked=r:"option"===this.tagName.toLowerCase()&&(e=q(this).parent("select"),r&&e[0]&&"select-one"===e[0].type&&e.find("option").selected(!1),this.selected=r)})},q.fn.ajaxSubmit.debug=!1});

;
(function($,Drupal,drupalSettings){Drupal.Views={};Drupal.Views.parseQueryString=function(query){var args={},pos=query.indexOf('?');if(pos!==-1)query=query.substring(pos+1);var pair,pairs=query.split('&');for(var i=0;i<pairs.length;i++){pair=pairs[i].split('=');if(pair[0]!=='q'&&pair[1])args[decodeURIComponent(pair[0].replace(/\+/g,' '))]=decodeURIComponent(pair[1].replace(/\+/g,' '))};return args};Drupal.Views.parseViewArgs=function(href,viewPath){var returnObj={},path=Drupal.Views.getPath(href),viewHref=Drupal.url(viewPath).substring(drupalSettings.path.baseUrl.length);if(viewHref&&path.substring(0,viewHref.length+1)==="".concat(viewHref,"/")){returnObj.view_args=decodeURIComponent(path.substring(viewHref.length+1,path.length));returnObj.view_path=path};return returnObj};Drupal.Views.pathPortion=function(href){var protocol=window.location.protocol;if(href.substring(0,protocol.length)===protocol)href=href.substring(href.indexOf('/',protocol.length+2));return href};Drupal.Views.getPath=function(href){href=Drupal.Views.pathPortion(href);href=href.substring(drupalSettings.path.baseUrl.length,href.length);if(href.substring(0,3)==='?q=')href=href.substring(3,href.length);var chars=['#','?','&'];for(var i=0;i<chars.length;i++)if(href.indexOf(chars[i])>-1)href=href.substr(0,href.indexOf(chars[i]));return href}})(jQuery,Drupal,drupalSettings);
(function($,Drupal,drupalSettings){Drupal.behaviors.ViewsAjaxView={};Drupal.behaviors.ViewsAjaxView.attach=function(context,settings){if(settings&&settings.views&&settings.views.ajaxViews){var ajaxViews=settings.views.ajaxViews;Object.keys(ajaxViews||{}).forEach(function(i){Drupal.views.instances[i]=new Drupal.views.ajaxView(ajaxViews[i])})}};Drupal.behaviors.ViewsAjaxView.detach=function(context,settings,trigger){if(trigger==='unload')if(settings&&settings.views&&settings.views.ajaxViews){var ajaxViews=settings.views.ajaxViews;Object.keys(ajaxViews||{}).forEach(function(i){var selector=".js-view-dom-id-".concat(ajaxViews[i].view_dom_id);if($(selector,context).length){delete Drupal.views.instances[i];delete settings.views.ajaxViews[i]}})}};Drupal.views={};Drupal.views.instances={};Drupal.views.ajaxView=function(settings){var selector=".js-view-dom-id-".concat(settings.view_dom_id);this.$view=$(selector);var ajaxPath=drupalSettings.views.ajax_path;if(ajaxPath.constructor.toString().indexOf('Array')!==-1)ajaxPath=ajaxPath[0];var queryString=window.location.search||'';if(queryString!==''){queryString=queryString.slice(1).replace(/q=[^&]+&?|&?render=[^&]+/,'');if(queryString!=='')queryString=(/\?/.test(ajaxPath)?'&':'?')+queryString};this.element_settings={url:ajaxPath+queryString,submit:settings,setClick:true,event:'click',selector:selector,progress:{type:'fullscreen'}};this.settings=settings;this.$exposed_form=$("form#views-exposed-form-".concat(settings.view_name.replace(/_/g,'-'),"-").concat(settings.view_display_id.replace(/_/g,'-')));once('exposed-form',this.$exposed_form).forEach($.proxy(this.attachExposedFormAjax,this));once('ajax-pager',this.$view.filter($.proxy(this.filterNestedViews,this))).forEach($.proxy(this.attachPagerAjax,this));var selfSettings=$.extend({},this.element_settings,{event:'RefreshView',base:this.selector,element:this.$view.get(0)});this.refreshViewAjax=Drupal.ajax(selfSettings)};Drupal.views.ajaxView.prototype.attachExposedFormAjax=function(){var that=this;this.exposedFormAjax=[];$('input[type=submit], button[type=submit], input[type=image]',this.$exposed_form).not('[data-drupal-selector=edit-reset]').each(function(index){var selfSettings=$.extend({},that.element_settings,{base:$(this).attr('id'),element:this});that.exposedFormAjax[index]=Drupal.ajax(selfSettings)})};Drupal.views.ajaxView.prototype.filterNestedViews=function(){return!this.$view.parents('.view').length};Drupal.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find('ul.js-pager__items > li > a, th.views-field a, .attachment .views-summary a').each($.proxy(this.attachPagerLinkAjax,this))};Drupal.views.ajaxView.prototype.attachPagerLinkAjax=function(id,link){var $link=$(link),viewData={},href=$link.attr('href');$.extend(viewData,this.settings,Drupal.Views.parseQueryString(href),Drupal.Views.parseViewArgs(href,this.settings.view_base_path));var selfSettings=$.extend({},this.element_settings,{submit:viewData,base:false,element:link});this.pagerAjax=Drupal.ajax(selfSettings)};Drupal.AjaxCommands.prototype.viewsScrollTop=function(ajax,response){var offset=$(response.selector).offset(),scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())$(scrollTarget).animate({scrollTop:offset.top-10},500)}})(jQuery,Drupal,drupalSettings);
(function($,Drupal,drupalSettings){Drupal.behaviors.betterExposedFilters={attach:function(context,settings){$('.bef-tree input[type=checkbox], .bef-checkboxes input[type=checkbox]').change(function(){_bef_highlight(this,context)}).filter(':checked').closest('.form-item',context).addClass('highlight')}}
function _bef_highlight(elem,context){$elem=$(elem,context);$elem.attr('checked')?$elem.closest('.form-item',context).addClass('highlight'):$elem.closest('.form-item',context).removeClass('highlight')}})(jQuery,Drupal,drupalSettings);
(function($,Drupal){Drupal.behaviors.betterExposedFiltersAutoSubmit={attach:function(context){var selectors='form[data-bef-auto-submit-full-form], [data-bef-auto-submit-full-form] form, [data-bef-auto-submit]';$(selectors,context).addBack(selectors).each(function(i,e){var $form=$(e),autoSubmitDelay=$form.data('bef-auto-submit-delay')||500;$form.once('bef-auto-submit').on('change',triggerSubmit).on('keyup',Drupal.debounce(triggerSubmit,autoSubmitDelay))})
function triggerSubmit(e){var ignoredKeyCodes=[16,17,18,20,33,34,35,36,37,38,39,40,9,13,27],$target=$(e.target),$submit=$target.closest('form').find('[data-bef-auto-submit-click]');if($target.is('[data-bef-auto-submit-exclude], :submit')||$target.attr('autocomplete')=='off')return true;if($target.is(':text:not(.hasDatepicker), textarea')&&$.inArray(e.keyCode,ignoredKeyCodes)===-1){$submit.click()}else if(e.type==='change')$submit.click()}}}}(jQuery,Drupal));
const programListingJumpLinks = ($) => {

    /**
     * Initialize jump links.
     */
    function init() {
        $('.program-row').each(function() {
           let letter = $(this).attr('id');
           $('[data-jump-letter=' + letter + ']').html('<a href="#' + letter + '">' + letter + '</a>');
        });
    }

    Drupal.behaviors.sju_program_listing_jump_links = {
        attach(context, settings) {
            init();
        },
    };
};

(programListingJumpLinks(jQuery));
;
(function($,Drupal,_ref){var isTabbable=_ref.isTabbable;$.extend($.expr[':'],{tabbable:function tabbable(element){Drupal.deprecationError({message:'The :tabbable selector is deprecated in Drupal 9.2.0 and will be removed in Drupal 10.0.0. Use the core/tabbable library instead. See https://www.drupal.org/node/3183730'});if(element.tagName==='SUMMARY'||element.tagName==='DETAILS'){var tabIndex=element.getAttribute('tabIndex');if(tabIndex===null||tabIndex<0)return false};return isTabbable(element)}})})(jQuery,Drupal,window.tabbable);
(function($){var cachedScrollbarWidth=null,max=Math.max,abs=Math.abs,regexHorizontal=/left|center|right/,regexVertical=/top|center|bottom/,regexOffset=/[+-]\d+(\.[\d]+)?%?/,regexPosition=/^\w+/,regexPercent=/%$/,_position=$.fn.position
function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(regexPercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(regexPercent.test(offsets[1])?height/100:1)]}
function parseCss(element,property){return parseInt($.css(element,property),10)||0}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9)return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};if($.isWindow(raw))return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};if(raw.preventDefault)return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}};var collisions={fit:{left:function left(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0){position.left=withinOffset}else if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth}else position.left=withinOffset}else if(overLeft>0){position.left+=overLeft}else if(overRight>0){position.left-=overRight}else position.left=max(position.left-collisionPosLeft,position.left)},top:function top(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>0&&overTop<=0){position.top=withinOffset}else if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight}else position.top=withinOffset}else if(overTop>0){position.top+=overTop}else if(overBottom>0){position.top-=overBottom}else position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function left(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==='left'?-data.elemWidth:data.my[0]==='right'?data.elemWidth:0,atOffset=data.at[0]==='left'?data.targetWidth:data.at[0]==='right'?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=myOffset+atOffset+offset}},top:function top(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==='top',myOffset=top?-data.elemHeight:data.my[1]==='bottom'?data.elemHeight:0,atOffset=data.at[1]==='top'?data.targetHeight:data.at[1]==='bottom'?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop))position.top+=myOffset+atOffset+offset}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom)position.top+=myOffset+atOffset+offset}}},flipfit:{left:function left(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];collisions.flip.left.apply(this,args);collisions.fit.left.apply(this,args)},top:function top(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];collisions.flip.top.apply(this,args);collisions.fit.top.apply(this,args)}}};$.position={scrollbarWidth:function scrollbarWidth(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;var div=$('<div '+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$('body').append(div);var w1=innerDiv.offsetWidth;div.css('overflow','scroll');var w2=innerDiv.offsetWidth;if(w1===w2)w2=div[0].clientWidth;div.remove();cachedScrollbarWidth=w1-w2;return cachedScrollbarWidth},getScrollInfo:function getScrollInfo(within){var overflowX=within.isWindow||within.isDocument?'':within.element.css('overflow-x'),overflowY=within.isWindow||within.isDocument?'':within.element.css('overflow-y'),hasOverflowX=overflowX==='scroll'||overflowX==='auto'&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==='scroll'||overflowY==='auto'&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function getWithinInfo(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||'flip').split(' '),offsets={},target=typeof options.of==='string'?$(document).find(options.of):$(options.of),dimensions=getDimensions(target),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset;if(target[0].preventDefault)options.at='left top';var basePosition=$.extend({},targetOffset);$.each(['my','at'],function(){var pos=(options[this]||'').split(' ');if(pos.length===1)pos=regexHorizontal.test(pos[0])?pos.concat(['center']):regexVertical.test(pos[0])?['center'].concat(pos):['center','center'];pos[0]=regexHorizontal.test(pos[0])?pos[0]:'center';pos[1]=regexVertical.test(pos[1])?pos[1]:'center';var horizontalOffset=regexOffset.exec(pos[0]),verticalOffset=regexOffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[regexPosition.exec(pos[0])[0],regexPosition.exec(pos[1])[0]]});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==='right'){basePosition.left+=targetWidth}else if(options.at[0]==='center')basePosition.left+=targetWidth/2;if(options.at[1]==='bottom'){basePosition.top+=targetHeight}else if(options.at[1]==='center')basePosition.top+=targetHeight/2;var atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,'marginLeft'),marginTop=parseCss(this,'marginTop'),collisionWidth=elemWidth+marginLeft+parseCss(this,'marginRight')+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,'marginBottom')+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==='right'){position.left-=elemWidth}else if(options.my[0]==='center')position.left-=elemWidth/2;if(options.my[1]==='bottom'){position.top-=elemHeight}else if(options.my[1]==='center')position.top-=elemHeight/2;position.left+=myOffset[0];position.top+=myOffset[1];var collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(['left','top'],function(i,dir){if(collisions[collision[i]])collisions[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})});if(options.using)using=function using(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?'left':left>0?'right':'center',vertical:bottom<0?'top':top>0?'bottom':'middle'};if(targetWidth<elemWidth&&abs(left+right)<targetWidth)feedback.horizontal='center';if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical='middle';if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important='horizontal'}else feedback.important='vertical';options.using.call(this,props,feedback)};elem.offset($.extend(position,{using:using}))})};if(!$.hasOwnProperty('ui'))$.ui={};$.ui.position=collisions})(jQuery);
(function($,Drupal,drupalSettings){'use strict';if(!Drupal.autocomplete)return;var autocomplete={};autocomplete.getSettings=function(input,globalSettings){globalSettings=globalSettings||drupalSettings||{};var settings={auto_submit:false,delay:0,min_length:1,selector:':submit'},search=$(input).data('search-api-autocomplete-search');if(search&&globalSettings.search_api_autocomplete&&globalSettings.search_api_autocomplete[search])$.extend(settings,globalSettings.search_api_autocomplete[search]);return settings};Drupal.behaviors.searchApiAutocomplete={attach:function(context,settings){$(context).find('.ui-autocomplete-input[data-search-api-autocomplete-search]').once('search-api-autocomplete').each(function(){var uiAutocomplete=$(this).data('ui-autocomplete');if(!uiAutocomplete)return;var $element=uiAutocomplete.menu.element;$element.data('search-api-autocomplete-input-id',this.id);$element.addClass('search-api-autocomplete-search');var elementSettings=autocomplete.getSettings(this,settings);if(elementSettings.delay)uiAutocomplete.options['delay']=elementSettings.delay;if(elementSettings.min_length)uiAutocomplete.options['minLength']=elementSettings.min_length;var oldSelect=uiAutocomplete.options.select;uiAutocomplete.options.select=function(event,ui){if(ui.item.url){location.href=ui.item.url;return false};var ret=oldSelect.apply(this,arguments);if(elementSettings.auto_submit&&elementSettings.selector)$(elementSettings.selector,this.form).trigger('click');return ret}})}};Drupal.SearchApiAutocomplete=autocomplete})(jQuery,Drupal,drupalSettings);
const mir3Alerts = ($) => {

  function getAlerts() {
    $.get('/mir3-banner-alerts', function(data) {
      if (data) {
        $('body').addClass('has-alert');
        $('#block-stjohns-mir3-banner-messages').html(data);
      }
      else {
        $('body').removeClass('has-alert');
      }
    });
  }

  Drupal.behaviors.stjohns_mir3_alerts = {
    attach(context, settings) {

      // Get alerts on page load.
      getAlerts();

      // And then again every minute.
      setInterval(getAlerts, 60000);
    },
  };
};

(mir3Alerts(jQuery));
;
