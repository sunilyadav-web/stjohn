{% extends "../base.html" %}
{% block title %} Result {% endblock title %}

{% load static %}

{% block body %}


<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="col-11 col-md-6 py-3 pt-4 ">
      <h2 class="text-center title text-uppercase">Result</h2>
      <form action="" method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label" for="enrollment-input">Enrollment No.</label>
          <input type="text" class="form-control" name="enrollment_no" id="enrollment-input"
            placeholder="Search Enrollment No.">
        </div>
        <div class="d-grid">
          <input type="submit" class="btn" value="Submit"
            style="background-color: darkblue; color: white; cursor: pointer;padding: 10px;">
        </div>
      </form>
    </div>
  </div>


  <!-- Displaying Result -->


  {% if semesters %}

  <div class="my-3 text-center">
    <h3 class="title d-inline">Alumni Details</h3>
    <a onclick="myfunc()" ><input type="submit" class="btn bg-primary text-white mb-1" value="Print Result">
    </a>
  </div>
  <div class="row" id="divthree">
    <div class="col">
      <div class="card-logo d-flex justify-content-center">
        <img style="height:25vh;" class="img-responsive d-block text-center" src="{% static 'logos/stjohn-bgr.png' %}"
          alt="St. John's University Logo">
      </div>
        <div class="d-flex flex-column flex-sm-row ">
            <img class="img-fluid" src="{{profile.profile_pic.url}}" alt="" width="200px">
          <div class="ms-4 mb-2">
            <p> <b> Enrollment No:</b> {{profile.enrollment_no}}</p>
            <p> <b> Name : </b> {{profile.name}}</p>
            <p> <b> Father's Name : </b> {{profile.father_name}} </p>
            <p> <b> Course :</b> {{profile.course}}</p>
            <p> <b> Specialization:</b> {{profile.specialization}}</p>
            <p> <b> Year :</b> {{profile.academic_year}}</p>
            <p> <b> Year of Passing :</b> {{profile.year_of_passing}}</p>
          </div>

        </div>
        <div class="mt-3">
          <table class="table table-bordered border-secondary " style="margin-top: 20px;">
            <h5 class="text-center title"> Statement of Marks </h5>
            <thead>
              <tr>
                <th scope="row">Particulars</th>
                <th>Max</th>
                <th>Min</th>
                <th>Obtained</th>
                <th>Remarks</th>
              </tr>
            </thead>

            {% for sem in semesters %}
            <tr>
              <th scope="col">{{sem.particular}}</th>
              <td>{{sem.max_marks}}</td>
              <td>{{sem.min_marks}}</td>
              <td>{{sem.obtained}}</td>
              <td>{{sem.remarks}}</td>
            </tr>
            {% endfor %}


            <tbody>
              <tr>
                <th scope="col"></th>
                <td>{{total_max_marks}}</td>
                <td>{{total_min_marks}}</td>
                <td>{{total_obtained_marks}}</td>
                <td>{{student_percentage}}%</td>
              </tr>
            </tbody>
            <tbody>
              <tr>
                <th scope="col"> </th>
                <td> </td>
                <td> </td>
                <td><b> GRADE: </b></td>
                <td>{{grade}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      
    </div>

  
  
  <script type="text/javascript">
    function myfunc() {
      var backup = document.body.innerHTML;
      var divthree = document.getElementById('divthree').innerHTML;
      
      document.body.innerHTML = divthree;
      window.print();
      document.body.innerHTML = backup;
    }
  </script>
</div>
{% endif %}
{% endblock body %}